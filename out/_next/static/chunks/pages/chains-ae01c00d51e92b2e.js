(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[703],{5325:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chains",function(){return a(8064)}])},4680:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},Zb:function(){return l},aY:function(){return c},ll:function(){return o}});var s=a(5893),r=a(7294),n=a(108);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},7106:function(e,t,a){"use strict";a.d(t,{T:function(){return i}});var s=a(4529),r=a(782);let n=Object.keys(a(8976).Gw),l=(0,s.Ue)()((0,r.tJ)((e,t)=>({enabledChains:new Set(n),setEnabledChains:t=>e({enabledChains:new Set(t)}),toggleChain:t=>e(e=>{let a=new Set(e.enabledChains);return a.has(t)?a.delete(t):a.add(t),{enabledChains:a}}),toggleAll:t=>e(e=>({enabledChains:new Set(t.every(t=>e.enabledChains.has(t))?[]:t)})),isChainEnabled:e=>t().enabledChains.has(e)}),{name:"chain-settings",storage:{getItem:e=>{let t=localStorage.getItem(e);if(!t)return null;let{state:a}=JSON.parse(t);return{state:{...a,enabledChains:new Set(a.enabledChains)}}},setItem:(e,t)=>{let{state:a}=t,s={state:{...a,enabledChains:Array.from(a.enabledChains)}};localStorage.setItem(e,JSON.stringify(s))},removeItem:e=>localStorage.removeItem(e)}}));function i(){let e=l();return{enabledChains:e.enabledChains,toggleChain:e.toggleChain,toggleAll:e.toggleAll,isChainEnabled:e.isChainEnabled}}},3494:function(e,t,a){"use strict";a.d(t,{t:function(){return m}});var s=a(7294),r=a(7106),n=a(4529),l=a(782);let i=(0,n.Ue)()((0,l.tJ)((e,t)=>({balances:{},lastUpdated:0,setBalances:t=>e({balances:t,lastUpdated:Date.now()}),getBalances:()=>{let e=t();return Date.now()-e.lastUpdated<3e5?e.balances:{}},clear:()=>e({balances:{},lastUpdated:0})}),{name:"chain-balances-cache",version:1,partialize:e=>({balances:e.balances,lastUpdated:e.lastUpdated})}));var o=a(2485),c=a(8976),d=a(9084),u=a(4286);function m(e){let[t,a]=(0,s.useState)({}),[n,l]=(0,s.useState)(!0),[m,h]=(0,s.useState)(new Set),[x,f]=(0,s.useState)(null),{enabledChains:g}=(0,r.T)(),{getBalances:b,setBalances:p}=i(),{fetchPrice:v}=(0,o.p)();return(0,s.useEffect)(()=>{(async()=>{if(!e){l(!1);return}l(!0),f(null);let t=b();Object.keys(t).length>0&&a(t);let s={},r=new Set;try{let t=Array.from(g).filter(e=>e in c.Gw);await Promise.all(t.map(async t=>{try{let a=c.Gw[t];if(!a)return;r.add(t),h(new Set(r));let[n,l,i]=await Promise.all([(0,d.TP)(a.rest,e,a.denom,a.decimals),(0,d.Pn)(a.rest,e,a.decimals),(0,d.Xz)(a.rest,e,a.denom,a.decimals)]),o=await v(t),u={available:(Number(n)*o).toFixed(2),staked:(Number(l.stakedBalance)*o).toFixed(2),rewards:(Number(i)*o).toFixed(2),total:((Number(n)+Number(l.stakedBalance)+Number(i))*o).toFixed(2)};(Number(n)>0||Number(l.stakedBalance)>0||Number(i)>0)&&(s[t]={available:n,staked:l.stakedBalance,rewards:i,usdValues:u})}catch(e){(0,u.H)(e,"Failed to fetch ".concat(t," balances"),!0)}finally{r.delete(t),h(new Set(r))}})),a(s),p(s)}catch(e){f((0,u.H)(e,"Fetching multi-chain balances"))}finally{l(!1),h(new Set)}})()},[e,g,b,p,v]),{balances:t,isLoading:n,loadingChains:m,error:x}}},2485:function(e,t,a){"use strict";a.d(t,{p:function(){return i}});var s=a(7294),r=a(7066);let n="token_prices_cache",l={osmosis:"osmosis",cosmoshub:"cosmos",celestia:"celestia",akash:"akash-network",regen:"regen",juno:"juno-network",dydx:"dydx",saga:"saga-2",omniflixhub:"omniflix-network",stargaze:"stargaze",stride:"stride",sentinel:"sentinel",archway:"archway",noble:"noble",persistence:"persistence",evmos:"evmos",injective:"injective-protocol",secret:"secret",terra:"terra-luna-2",kujira:"kujira"};function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"osmosis",[t,a]=(0,s.useState)(()=>{try{let e=localStorage.getItem(n);return e?JSON.parse(e):{}}catch(e){return{}}}),i=(0,s.useCallback)(e=>{let a=t[e];return a&&Date.now()-a.timestamp<3e5?a.price:null},[t]),o=(0,s.useCallback)((e,s)=>{let r={...t,[e]:{price:s,timestamp:Date.now()}};a(r);try{localStorage.setItem(n,JSON.stringify(r))}catch(e){console.warn("Failed to cache price:",e)}},[t]),c=(0,s.useCallback)(async e=>{let t=l[e];if(!t)return console.warn("No Coingecko ID mapping for chain: ".concat(e)),0;try{var a;let s=i(e);if(null!==s)return s;let n=await r.default.get("https://api.coingecko.com/api/v3/simple/price?ids=".concat(t,"&vs_currencies=usd"),{timeout:5e3}),l=(null===(a=n.data[t])||void 0===a?void 0:a.usd)||0;return o(e,l),l}catch(t){return console.warn("Error fetching ".concat(e," price:"),t),i(e)||0}},[i,o]);return{formatUsdValue:(0,s.useCallback)(async t=>{if(!t)return"$0.00";let a="string"==typeof t?parseFloat(t):t;if(isNaN(a))return"$0.00";try{let t=await c(e);return"$".concat((a*t).toFixed(2))}catch(e){return console.warn("Error formatting USD value:",e),"$0.00"}},[e,c]),fetchPrice:c}}},8064:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var s=a(5893),r=a(6800),n=a(3954),l=a(3494),i=a(4680),o=a(5819),c=a(8082),d=a(4598),u=a(3432),m=a(7106),h=a(4715),x=a(6922),f=a(2764),g=a(5615),b=a(8793),p=a(8451),v=(0,x.z)({chartName:"BarChart",GraphicalChild:f.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:g.K},{axisType:"yAxis",AxisComp:b.B}],formatAxisMap:p.t9}),j=a(4570);function N(e){let{data:t,totalValue:a,isLoading:r}=e;if(r)return(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)(i.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(i.ll,{children:"Asset Distribution"}),(0,s.jsx)(o.O,{className:"h-8 w-[200px]"})]})}),(0,s.jsx)(i.aY,{className:"h-[300px] flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-pulse w-full h-full bg-muted/50 rounded-lg"})})]});let n=[...t].sort((e,t)=>t.value-e.value);return(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)(i.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(i.ll,{children:"Asset Distribution"}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,s.jsxs)("span",{className:"text-2xl font-bold",children:["$",a]}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Value"})]})]})}),(0,s.jsx)(i.aY,{children:(0,s.jsx)(h.h,{width:"100%",height:300,children:(0,s.jsxs)(v,{data:n,margin:{left:20,right:20,top:20,bottom:40},children:[(0,s.jsx)(g.K,{dataKey:"name",tickLine:!1,axisLine:!1,interval:0,tick:{fontSize:12,angle:-45,textAnchor:"end"}}),(0,s.jsx)(b.B,{tickFormatter:e=>"$".concat(e.toLocaleString()),tickLine:!1,axisLine:!1,width:80}),(0,s.jsx)(j.u,{formatter:e=>["$".concat(e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),"Value"],labelStyle:{color:"var(--foreground)"},contentStyle:{backgroundColor:"var(--background)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"8px"},cursor:{fill:"var(--muted)",opacity:.2}}),(0,s.jsx)(f.$,{dataKey:"value",fill:"hsl(var(--primary))",radius:[4,4,0,0],minPointSize:2,barSize:30})]})})})]})}var w=a(8976),y=a(5675),S=a.n(y),C=a(1664),k=a.n(C),O=a(7294);function z(){let{address:e,status:t}=(0,n.Z)(),{balances:a,isLoading:h,loadingChains:x}=(0,l.t)("Connected"===t?e:void 0),{enabledChains:f}=(0,m.T)(),g=(0,O.useMemo)(()=>Object.entries(w.Gw).filter(e=>{let[t]=e;return f.has(t)}).map(e=>{let[t,s]=e;return{chainName:t,chain:s,balance:a[t]||{available:"0",staked:"0",rewards:"0",usdValues:{available:"0",staked:"0",rewards:"0",total:"0"}}}}).sort((e,t)=>Number(t.balance.usdValues.total)-Number(e.balance.usdValues.total)),[a,f]),b=(0,O.useMemo)(()=>g.reduce((e,t)=>{let{balance:a}=t;return e+Number(a.usdValues.total)},0).toFixed(2),[g]),p=(0,O.useMemo)(()=>g.filter(e=>{let{balance:t}=e;return Number(t.usdValues.total)>0}).map(e=>{let{chain:t,balance:a}=e;return{name:t.symbol,value:Number(a.usdValues.total),symbol:t.symbol}}),[g]),v=e=>Number(e).toFixed(6);return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,s.jsx)(r.h,{}),(0,s.jsxs)("main",{className:"flex-1 space-y-4 p-8 pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"All Chains"}),(0,s.jsx)(k(),{href:"/settings/chains",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"Manage Chains"})]}),t&&"Disconnected"!==t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N,{data:p,totalValue:b,isLoading:h}),h&&!g.length?(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(e=>(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(o.O,{className:"h-4 w-[100px]"}),(0,s.jsx)(o.O,{className:"h-8 w-8 rounded-full"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.O,{className:"h-4 w-[100px]"}),(0,s.jsx)(o.O,{className:"h-4 w-[80px]"}),(0,s.jsx)(o.O,{className:"h-4 w-[120px]"})]})})]},e))}):0===g.length?(0,s.jsxs)(c.bZ,{children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),(0,s.jsx)(c.X,{children:"No chains enabled. Enable chains in settings to view balances."})]}):(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:g.map(e=>{let{chainName:t,chain:a,balance:r}=e,n="osmosis"===t?"/":"/".concat(t);return Number(r.available)>0||Number(r.staked)>0||r.rewards,(0,s.jsx)(k(),{href:n,children:(0,s.jsxs)(i.Zb,{className:"hover:bg-muted/50 transition-colors cursor-pointer relative",children:[x.has(t)&&(0,s.jsx)("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-sm flex items-center justify-center",children:(0,s.jsx)(u.Z,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:a.name}),a.icon&&(0,s.jsx)("div",{className:"h-8 w-8 relative",children:(0,s.jsx)(S(),{src:a.icon,alt:a.name,fill:!0,className:"object-contain"})})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[Number(r.available)>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Available:"}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{children:[v(r.available)," ",a.symbol]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["$",r.usdValues.available]})]})]}),Number(r.staked)>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Staked:"}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{children:[v(r.staked)," ",a.symbol]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["$",r.usdValues.staked]})]})]}),Number(r.rewards)>0&&(0,s.jsxs)("div",{className:"flex justify-between text-green-500",children:[(0,s.jsx)("span",{children:"Claimable:"}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{children:[v(r.rewards)," ",a.symbol]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["$",r.usdValues.rewards]})]})]}),(0,s.jsx)("div",{className:"pt-2 mt-2 border-t",children:(0,s.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,s.jsx)("span",{children:"Total Value:"}),(0,s.jsxs)("span",{children:["$",r.usdValues.total]})]})})]})})]})},t)})})]}):(0,s.jsxs)(c.bZ,{children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),(0,s.jsx)(c.X,{children:"Connect your wallet to view your balances across all chains"})]})]})]})}},782:function(e,t,a){"use strict";a.d(t,{tJ:function(){return l}});let s=e=>t=>{try{let a=e(t);if(a instanceof Promise)return a;return{then:e=>s(e)(a),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>s(t)(e)}}},r=(e,t)=>(a,r,n)=>{let l,i,o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},c=!1,d=new Set,u=new Set;try{l=o.getStorage()}catch(e){}if(!l)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),a(...e)},r,n);let m=s(o.serialize),h=()=>{let e;let t=m({state:o.partialize({...r()}),version:o.version}).then(e=>l.setItem(o.name,e)).catch(t=>{e=t});if(e)throw e;return t},x=n.setState;n.setState=(e,t)=>{x(e,t),h()};let f=e((...e)=>{a(...e),h()},r,n),g=()=>{var e;if(!l)return;c=!1,d.forEach(e=>e(r()));let t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,r()))||void 0;return s(l.getItem.bind(l))(o.name).then(e=>{if(e)return o.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return a(i=o.merge(e,null!=(t=r())?t:f),!0),h()}).then(()=>{null==t||t(i,void 0),c=!0,u.forEach(e=>e(i))}).catch(e=>{null==t||t(void 0,e)})};return n.persist={setOptions:e=>{o={...o,...e},e.getStorage&&(l=e.getStorage())},clearStorage:()=>{null==l||l.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>c,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},g(),i||f},n=(e,t)=>(a,r,n)=>{let l,i={storage:function(e,t){let a;try{a=e()}catch(e){return}return{getItem:e=>{var t;let s=e=>null===e?null:JSON.parse(e,void 0),r=null!=(t=a.getItem(e))?t:null;return r instanceof Promise?r.then(s):s(r)},setItem:(e,t)=>a.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>a.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,c=new Set,d=new Set,u=i.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),a(...e)},r,n);let m=()=>{let e=i.partialize({...r()});return u.setItem(i.name,{state:e,version:i.version})},h=n.setState;n.setState=(e,t)=>{h(e,t),m()};let x=e((...e)=>{a(...e),m()},r,n);n.getInitialState=()=>x;let f=()=>{var e,t;if(!u)return;o=!1,c.forEach(e=>{var t;return e(null!=(t=r())?t:x)});let n=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=r())?e:x))||void 0;return s(u.getItem.bind(u))(i.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate)return[!0,i.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[s,n]=e;if(a(l=i.merge(n,null!=(t=r())?t:x),!0),s)return m()}).then(()=>{null==n||n(l,void 0),l=r(),o=!0,d.forEach(e=>e(l))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{i={...i,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},i.skipHydration||f(),l||x},l=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),r(e,t)):n(e,t)}},function(e){e.O(0,[425,878,800,888,774,179],function(){return e(e.s=5325)}),_N_E=e.O()}]);