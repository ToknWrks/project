(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{5246:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/chains",function(){return a(2290)}])},4680:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var n=a(5893),r=a(7294),s=a(108);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},7106:function(e,t,a){"use strict";a.d(t,{T:function(){return i}});var n=a(4529),r=a(782);let s=Object.keys(a(8976).Gw),l=(0,n.Ue)()((0,r.tJ)((e,t)=>({enabledChains:new Set(s),setEnabledChains:t=>e({enabledChains:new Set(t)}),toggleChain:t=>e(e=>{let a=new Set(e.enabledChains);return a.has(t)?a.delete(t):a.add(t),{enabledChains:a}}),toggleAll:t=>e(e=>({enabledChains:new Set(t.every(t=>e.enabledChains.has(t))?[]:t)})),isChainEnabled:e=>t().enabledChains.has(e)}),{name:"chain-settings",storage:{getItem:e=>{let t=localStorage.getItem(e);if(!t)return null;let{state:a}=JSON.parse(t);return{state:{...a,enabledChains:new Set(a.enabledChains)}}},setItem:(e,t)=>{let{state:a}=t,n={state:{...a,enabledChains:Array.from(a.enabledChains)}};localStorage.setItem(e,JSON.stringify(n))},removeItem:e=>localStorage.removeItem(e)}}));function i(){let e=l();return{enabledChains:e.enabledChains,toggleChain:e.toggleChain,toggleAll:e.toggleAll,isChainEnabled:e.isChainEnabled}}},3494:function(e,t,a){"use strict";a.d(t,{t:function(){return m}});var n=a(7294),r=a(7106),s=a(4529),l=a(782);let i=(0,s.Ue)()((0,l.tJ)((e,t)=>({balances:{},lastUpdated:0,setBalances:t=>e({balances:t,lastUpdated:Date.now()}),getBalances:()=>{let e=t();return Date.now()-e.lastUpdated<3e5?e.balances:{}},clear:()=>e({balances:{},lastUpdated:0})}),{name:"chain-balances-cache",version:1,partialize:e=>({balances:e.balances,lastUpdated:e.lastUpdated})}));var c=a(2485),o=a(8976),d=a(9084),u=a(4286);function m(e){let[t,a]=(0,n.useState)({}),[s,l]=(0,n.useState)(!0),[m,f]=(0,n.useState)(new Set),[h,g]=(0,n.useState)(null),{enabledChains:b}=(0,r.T)(),{getBalances:x,setBalances:p}=i(),{fetchPrice:w}=(0,c.p)();return(0,n.useEffect)(()=>{(async()=>{if(!e){l(!1);return}l(!0),g(null);let t=x();Object.keys(t).length>0&&a(t);let n={},r=new Set;try{let t=Array.from(b).filter(e=>e in o.Gw);await Promise.all(t.map(async t=>{try{let a=o.Gw[t];if(!a)return;r.add(t),f(new Set(r));let[s,l,i]=await Promise.all([(0,d.TP)(a.rest,e,a.denom,a.decimals),(0,d.Pn)(a.rest,e,a.decimals),(0,d.Xz)(a.rest,e,a.denom,a.decimals)]),c=await w(t),u={available:(Number(s)*c).toFixed(2),staked:(Number(l.stakedBalance)*c).toFixed(2),rewards:(Number(i)*c).toFixed(2),total:((Number(s)+Number(l.stakedBalance)+Number(i))*c).toFixed(2)};(Number(s)>0||Number(l.stakedBalance)>0||Number(i)>0)&&(n[t]={available:s,staked:l.stakedBalance,rewards:i,usdValues:u})}catch(e){(0,u.H)(e,"Failed to fetch ".concat(t," balances"),!0)}finally{r.delete(t),f(new Set(r))}})),a(n),p(n)}catch(e){g((0,u.H)(e,"Fetching multi-chain balances"))}finally{l(!1),f(new Set)}})()},[e,b,x,p,w]),{balances:t,isLoading:s,loadingChains:m,error:h}}},2485:function(e,t,a){"use strict";a.d(t,{p:function(){return i}});var n=a(7294),r=a(7066);let s="token_prices_cache",l={osmosis:"osmosis",cosmoshub:"cosmos",celestia:"celestia",akash:"akash-network",regen:"regen",juno:"juno-network",dydx:"dydx",saga:"saga-2",omniflixhub:"omniflix-network",stargaze:"stargaze",stride:"stride",sentinel:"sentinel",archway:"archway",noble:"noble",persistence:"persistence",evmos:"evmos",injective:"injective-protocol",secret:"secret",terra:"terra-luna-2",kujira:"kujira"};function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"osmosis",[t,a]=(0,n.useState)(()=>{try{let e=localStorage.getItem(s);return e?JSON.parse(e):{}}catch(e){return{}}}),i=(0,n.useCallback)(e=>{let a=t[e];return a&&Date.now()-a.timestamp<3e5?a.price:null},[t]),c=(0,n.useCallback)((e,n)=>{let r={...t,[e]:{price:n,timestamp:Date.now()}};a(r);try{localStorage.setItem(s,JSON.stringify(r))}catch(e){console.warn("Failed to cache price:",e)}},[t]),o=(0,n.useCallback)(async e=>{let t=l[e];if(!t)return console.warn("No Coingecko ID mapping for chain: ".concat(e)),0;try{var a;let n=i(e);if(null!==n)return n;let s=await r.default.get("https://api.coingecko.com/api/v3/simple/price?ids=".concat(t,"&vs_currencies=usd"),{timeout:5e3}),l=(null===(a=s.data[t])||void 0===a?void 0:a.usd)||0;return c(e,l),l}catch(t){return console.warn("Error fetching ".concat(e," price:"),t),i(e)||0}},[i,c]);return{formatUsdValue:(0,n.useCallback)(async t=>{if(!t)return"$0.00";let a="string"==typeof t?parseFloat(t):t;if(isNaN(a))return"$0.00";try{let t=await o(e);return"$".concat((a*t).toFixed(2))}catch(e){return console.warn("Error formatting USD value:",e),"$0.00"}},[e,o]),fetchPrice:o}}},2290:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var n=a(5893),r=a(6800),s=a(4680),l=a(7294),i=a(3362),c=a(8865),o=a(108);let d=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(i.fC,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,n.jsx)(i.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,n.jsx)(c.Z,{className:"h-4 w-4"})})})});d.displayName=i.fC.displayName;var u=a(7245),m=a(1774),f=a(6127);function h(e){let{value:t,onChange:a}=e;return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(f.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,n.jsx)(m.I,{value:t,onChange:e=>a(e.target.value),placeholder:"Search chains...",className:"pl-9"})]})}var g=a(7106),b=a(5675),x=a.n(b),p=a(3954),w=a(3494),N=a(1664),v=a.n(N),C=a(8976);function j(){let{toggleChain:e,toggleAll:t,isChainEnabled:a}=(0,g.T)(),{status:i}=(0,p.Z)(),{balances:c}=(0,w.t)(void 0),[o,m]=(0,l.useState)(""),f=(0,l.useMemo)(()=>Object.entries(C.Gw).filter(e=>{let[t,a]=e;return a.name.toLowerCase().includes(o.toLowerCase())}).sort((e,t)=>{let[a,n]=e,[r,s]=t,l=!!c[a],i=!!c[r];return l&&!i?-1:!l&&i?1:n.name.localeCompare(s.name)}),[o,c]),b=f.map(e=>{let[t]=e;return t}),N=b.every(e=>a(e));return(0,n.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,n.jsx)(r.h,{}),(0,n.jsxs)("main",{className:"flex-1 space-y-4 p-8 pt-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Chain Settings"}),(0,n.jsx)(v(),{href:"/chains",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"View All Chains"})]}),(0,n.jsxs)(s.Zb,{children:[(0,n.jsxs)(s.Ol,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,n.jsx)(s.ll,{children:"Enabled Chains"}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(h,{value:o,onChange:m}),(0,n.jsx)(u.z,{variant:"outline",size:"sm",onClick:()=>t(b),children:N?"Deselect All":"Select All"})]})]}),(0,n.jsx)(s.aY,{children:(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(t=>{let[r,s]=t,l=!!c[r];return(0,n.jsxs)("div",{className:"flex items-center space-x-4 p-4 hover:bg-muted/50 rounded-lg transition-colors border ".concat(l?"bg-muted/30":""),children:[(0,n.jsx)(d,{id:r,checked:a(r),onCheckedChange:()=>e(r)}),s.icon&&(0,n.jsx)("div",{className:"h-8 w-8 relative flex-shrink-0",children:(0,n.jsx)(x(),{src:s.icon,alt:s.name,fill:!0,className:"object-contain"})}),(0,n.jsxs)("div",{className:"flex flex-col flex-1 min-w-0",children:[(0,n.jsx)("label",{htmlFor:r,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer truncate",children:s.name}),l&&(0,n.jsx)("span",{className:"text-xs text-muted-foreground mt-1",children:"Has balance"})]})]},r)})})})]})]})]})}}},function(e){e.O(0,[425,469,800,888,774,179],function(){return e(e.s=5246)}),_N_E=e.O()}]);